# 贡献指南

感谢您对 GF Admin Community 的贡献兴趣！本文档将指导您如何为项目做出有效的贡献。

## 目录

- [行为准则](#行为准则)
- [如何贡献](#如何贡献)
  - [报告问题](#报告问题)
  - [提交功能请求](#提交功能请求)
  - [提交代码](#提交代码)
- [开发流程](#开发流程)
  - [环境设置](#环境设置)
  - [分支管理](#分支管理)
  - [提交信息规范](#提交信息规范)
  - [测试](#测试)
  - [代码规范](#代码规范)
- [Pull Request 流程](#pull-request-流程)
- [发布流程](#发布流程)

## 行为准则

本项目采用 [贡献者公约](CODE_OF_CONDUCT.md)，参与者需遵守该准则。请报告不可接受的行为。

## 如何贡献

### 报告问题

发现bug时，请通过GitHub Issues报告，并遵循问题模板提供以下信息：

1. 使用清晰的标题描述问题
2. 描述重现问题的步骤
3. 提供环境信息（Go版本、操作系统等）
4. 提供错误日志或截图
5. 可能的解决方案（如果有）

### 提交功能请求

如果您有新功能想法，请通过Issues提交功能请求，并包含：

1. 功能描述
2. 用例和受益者
3. 实现思路（可选）

### 提交代码

1. Fork项目仓库
2. 创建特性分支
3. 提交修改，遵循[提交信息规范](#提交信息规范)
4. 确保代码通过所有测试
5. 提交Pull Request

## 开发流程

### 环境设置

1. 确保Go环境已安装（推荐1.24+）
2. 克隆仓库

```bash
git clone https://github.com/你的用户名/gf-admin-community.git
cd gf-admin-community
```

3. 安装依赖

```bash
go mod download
```

### 分支管理

- `main`: 主分支，保持稳定，只接受已审核的Pull Request
- `develop`: 开发分支，所有新特性都基于此分支开发
- 功能分支: 命名格式 `feature/功能名称`
- 修复分支: 命名格式 `fix/问题描述`

### 提交信息规范

我们采用[约定式提交](https://www.conventionalcommits.org/zh-hans/)规范，详细规范请查看 [COMMIT_CONVENTION.md](COMMIT_CONVENTION.md)。

提交格式：

```
<类型>(<可选范围>): <描述>

[可选的正文]

[可选的脚注]
```

类型包括：

- `feat`: 新功能
- `fix`: Bug修复
- `docs`: 文档更新
- `style`: 代码风格变更，不影响功能
- `refactor`: 代码重构，不添加功能也不修复bug
- `perf`: 性能优化
- `test`: 测试相关
- `chore`: 构建过程或辅助工具变动

### 测试

提交代码前，请确保：

1. 运行单元测试

```bash
go test -v ./...
```

2. 运行代码规范检查

```bash
golangci-lint run
```

### 代码规范

- 遵循Go官方的[代码规范](https://golang.org/doc/effective_go)
- 使用GoFrame框架的开发规范
- 所有公共函数、类型和变量必须有文档注释
- 测试覆盖率不低于80%

## Pull Request 流程

1. 确保您的PR针对`develop`分支
2. 提供清晰的PR标题和描述
3. 参考相关的Issue编号
4. 添加变更内容的详细说明
5. 确保CI检查通过（测试、代码规范等）
6. 等待代码审核，并根据反馈进行修改

## 发布流程

项目使用自动化CI/CD流程进行版本发布：

1. 合并到`main`分支的代码会自动触发版本发布
2. 版本号基于提交信息自动增加（遵循语义化版本）
3. 自动生成变更日志
4. 创建GitHub Release

也可以通过GitHub Actions手动触发发布：

1. 在仓库页面选择"Actions"标签
2. 选择"Release Go Module"工作流
3. 点击"Run workflow"，选择版本类型（patch/minor/major）

感谢您的贡献！
